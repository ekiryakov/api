{% extends 'base.html.twig' %}

{% block title %}Offer index{% endblock %}

{% block body %}
<v-container class="pa-0" fluid>
    <v-tabs dark background-color="teal darken-3" show-arrows v-model="${this.$root.categoryId}$">
        <v-tabs-slider color="teal lighten-3"></v-tabs-slider>
        {% for category in categories %}
            <v-tab key="{{ category.id }}" href="{{ url('offer_index', {'category': category.id}) }}" >
                {{ category.name }}
            </v-tab>
        {% endfor %}
    </v-tabs>
    <v-list class="pa-0" two-line>
        <v-list-item-group active-class="pink--text" multiple>
            {% for offer in offers %}
                <Offer data="{{ offer|serialize(format = 'json') }}"
                    show="{{ path('offer_show', {'id': offer.id}) }}"
                    edit="{{ path('offer_edit', {'id': offer.id}) }}">
                </Offer>
                {% if loop.last == false %}
                    <v-divider :key="{{ loop.index }}"></v-divider>
                {% endif %}
            {% endfor %}
            <v-fab-transition>
                <v-btn href="{{ path('offer_new') }}" fab large dark absolute bottom right>
                    <v-icon>mdi-plus</v-icon>
                </v-btn>
            </v-fab-transition>
        </v-list-item-group>
    </v-list>
</v-container>
{% endblock %}